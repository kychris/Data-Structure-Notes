<!DOCTYPE html>
<html>
<head>
	<title>Home</title>
	<LINK REL=StyleSheet HREF="../style.css" TYPE="text/css" >
</head>
<body align="center">
	
	<a href="../index.html"><h1>CS61: DATA STRUCTURE Notes</h1></a>
	<div id = "content" >
		<h1>Week 4 Monday: QuickSort</h1>

		<img src="" alt="Class Note">

		<p>*A fast sort without having to copy the array like merge sort</p>


<h2>Partition</h2>
<p>Randomly Select an element, move smaller element to the left, move bigger to the right</p>
<section>
<div class="highlight" style="background: #202020"><pre style="line-height: 125%"><span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #447fcf">partition</span><span style="color: #d0d0d0">(</span><span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">arr[],</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">start,</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">end)</span> <span style="color: #d0d0d0">{</span>
	<span style="color: #999999; font-style: italic">//assume last element is the pivot element</span>
	<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">pivot</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">arr[end];</span>

	<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">lastsmaller</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">start</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">;</span>
	<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">(</span><span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">;</span> <span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #d0d0d0">end;</span> <span style="color: #d0d0d0">i++)</span> <span style="color: #d0d0d0">{</span>
		<span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">(arr[i]</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #d0d0d0">pivot)</span> <span style="color: #d0d0d0">{</span>
			<span style="color: #d0d0d0">swap(arr,</span> <span style="color: #d0d0d0">lastsmaller+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">i);</span>
			<span style="color: #d0d0d0">lastsmaller</span> <span style="color: #d0d0d0">+=</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">;</span> <span style="color: #999999; font-style: italic">//watch out for this, don&#39;t be fooled by i</span>
		<span style="color: #d0d0d0">}</span> 
	<span style="color: #d0d0d0">}</span>
	<span style="color: #d0d0d0">swap(arr,</span> <span style="color: #d0d0d0">lastsmaller+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">end);</span>
	<span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">lastsmaller</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">;</span>
<span style="color: #d0d0d0">}</span>
</pre></div>

</section> 	

<h2>Quick Sort</h2>
<section>
<div class="highlight" style="background: #202020"><pre style="line-height: 125%"><span style="color: #6ab825; font-weight: bold">void</span> <span style="color: #447fcf">quicksort</span><span style="color: #d0d0d0">(</span><span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">arr[],</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">start,</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">end)</span> <span style="color: #d0d0d0">{</span>
	<span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">(start</span> <span style="color: #d0d0d0">&gt;=</span> <span style="color: #d0d0d0">end)</span> <span style="color: #d0d0d0">{</span>
		<span style="color: #6ab825; font-weight: bold">return</span><span style="color: #d0d0d0">;</span>
	<span style="color: #d0d0d0">}</span> <span style="color: #6ab825; font-weight: bold">else</span> <span style="color: #d0d0d0">{</span>
		<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">mid</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">partition(arr,</span> <span style="color: #d0d0d0">start,</span> <span style="color: #d0d0d0">end);</span>
		<span style="color: #d0d0d0">quicksort(arr,</span> <span style="color: #d0d0d0">start,</span> <span style="color: #d0d0d0">mid-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">);</span>
		<span style="color: #d0d0d0">quicksort(arr,</span> <span style="color: #d0d0d0">mid+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">end);</span>
	<span style="color: #d0d0d0">}</span>
<span style="color: #d0d0d0">}</span>
</pre></div>	
</section>


<h2>Helper Function and Main</h2>

<section>
<div class="highlight" style="background: #202020"><pre style="line-height: 125%"><span style="color: #6ab825; font-weight: bold">void</span> <span style="color: #447fcf">swap</span><span style="color: #d0d0d0">(</span><span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">arr[],</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">a,</span> <span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">b)</span> <span style="color: #d0d0d0">{</span>
	<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">temp</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">arr[a];</span>
	<span style="color: #d0d0d0">arr[a]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">arr[b];</span>
	<span style="color: #d0d0d0">arr[b]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">temp;</span>
<span style="color: #d0d0d0">}</span>

<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #447fcf">main</span><span style="color: #d0d0d0">()</span> <span style="color: #d0d0d0">{</span>
	<span style="color: #6ab825; font-weight: bold">int</span> <span style="color: #d0d0d0">arr[</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">{</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">7</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">};</span>
	<span style="color: #d0d0d0">partition(arr,</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">);</span>
	<span style="color: #999999; font-style: italic">// quicksort(arr, 0, 4);</span>
	<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">(</span><span style="color: #6ab825; font-weight: bold">auto</span> <span style="color: #d0d0d0">elem</span> <span style="color: #d0d0d0">:</span> <span style="color: #d0d0d0">arr)</span> <span style="color: #d0d0d0">{</span>
		<span style="color: #d0d0d0">cout</span> <span style="color: #d0d0d0">&lt;&lt;</span> <span style="color: #d0d0d0">elem</span> <span style="color: #d0d0d0">&lt;&lt;</span> <span style="color: #d0d0d0">endl;</span>
	<span style="color: #d0d0d0">}</span>
<span style="color: #d0d0d0">}</span>
</pre></div>

	
	
</section>


	</div>


</body>
</html>